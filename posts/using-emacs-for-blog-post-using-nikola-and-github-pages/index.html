<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>using emacs for blog post using nikola and github pages | My New Hugo Site</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="so it is a long story, to make it short, here is how it works step by step:
 install nikola using pip install nikola markdown webassets init nikola site by nikola init --quiet folder_name change the configurations of the default to your configurations just like below diff file shows:  --- default conf.py +++ customized conf.py @@ -17,16 +17,16 @@ import time   # Data about this site -BLOG_AUTHOR = &#34;Your Name&#34; # (translatable) -BLOG_TITLE = &#34;Demo Site&#34; # (translatable) +BLOG_AUTHOR = &#34;Shelper&#34; # (translatable) +BLOG_TITLE = &#34;The Way As It Is&#34; # (translatable) # This is the main URL for your site."><meta name=generator content="Hugo 0.98.0"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="using emacs for blog post using nikola and github pages"><meta property="og:description" content="so it is a long story, to make it short, here is how it works step by step:
 install nikola using pip install nikola markdown webassets init nikola site by nikola init --quiet folder_name change the configurations of the default to your configurations just like below diff file shows:  --- default conf.py +++ customized conf.py @@ -17,16 +17,16 @@ import time   # Data about this site -BLOG_AUTHOR = &#34;Your Name&#34; # (translatable) -BLOG_TITLE = &#34;Demo Site&#34; # (translatable) +BLOG_AUTHOR = &#34;Shelper&#34; # (translatable) +BLOG_TITLE = &#34;The Way As It Is&#34; # (translatable) # This is the main URL for your site."><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/posts/using-emacs-for-blog-post-using-nikola-and-github-pages/"><meta property="article:section" content="posts"><meta itemprop=name content="using emacs for blog post using nikola and github pages"><meta itemprop=description content="so it is a long story, to make it short, here is how it works step by step:
 install nikola using pip install nikola markdown webassets init nikola site by nikola init --quiet folder_name change the configurations of the default to your configurations just like below diff file shows:  --- default conf.py +++ customized conf.py @@ -17,16 +17,16 @@ import time   # Data about this site -BLOG_AUTHOR = &#34;Your Name&#34; # (translatable) -BLOG_TITLE = &#34;Demo Site&#34; # (translatable) +BLOG_AUTHOR = &#34;Shelper&#34; # (translatable) +BLOG_TITLE = &#34;The Way As It Is&#34; # (translatable) # This is the main URL for your site."><meta itemprop=wordCount content="506"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="using emacs for blog post using nikola and github pages"><meta name=twitter:description content="so it is a long story, to make it short, here is how it works step by step:
 install nikola using pip install nikola markdown webassets init nikola site by nikola init --quiet folder_name change the configurations of the default to your configurations just like below diff file shows:  --- default conf.py +++ customized conf.py @@ -17,16 +17,16 @@ import time   # Data about this site -BLOG_AUTHOR = &#34;Your Name&#34; # (translatable) -BLOG_TITLE = &#34;Demo Site&#34; # (translatable) +BLOG_AUTHOR = &#34;Shelper&#34; # (translatable) +BLOG_TITLE = &#34;The Way As It Is&#34; # (translatable) # This is the main URL for your site."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">My New Hugo Site</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">using emacs for blog post using nikola and github pages</h1></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>so it is a long story, to make it short, here is how it works step by step:</p><ul><li>install nikola using <code>pip install nikola markdown webassets</code></li><li>init nikola site by <code>nikola init --quiet folder_name</code></li><li>change the configurations of the default to your configurations just like below diff file shows:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span><span style=color:#f92672>--- default conf.py
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ customized conf.py
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -17,16 +17,16 @@ import time
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Data about this site
</span></span><span style=display:flex><span><span style=color:#f92672>-BLOG_AUTHOR = &#34;Your Name&#34;  # (translatable)
</span></span></span><span style=display:flex><span><span style=color:#f92672>-BLOG_TITLE = &#34;Demo Site&#34;  # (translatable)
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+BLOG_AUTHOR = &#34;Shelper&#34;  # (translatable)
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+BLOG_TITLE = &#34;The Way As It Is&#34;  # (translatable)
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span># This is the main URL for your site. It will be used
</span></span><span style=display:flex><span># in a prominent link. Don&#39;t forget the protocol (http/https)!
</span></span><span style=display:flex><span><span style=color:#f92672>-SITE_URL = &#34;https://example.com/&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+SITE_URL = &#34;http://shelper.github.io/&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span># This is the URL where Nikola&#39;s output will be deployed.
</span></span><span style=display:flex><span># If not set, defaults to SITE_URL
</span></span><span style=display:flex><span># BASE_URL = &#34;https://example.com/&#34;
</span></span><span style=display:flex><span><span style=color:#f92672>-BLOG_EMAIL = &#34;joe@demo.site&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-BLOG_DESCRIPTION = &#34;This is a demo site for Nikola.&#34;  # (translatable)
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+BLOG_EMAIL = &#34;shelper@github&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+BLOG_DESCRIPTION = &#34;A Site for Meaningful Things&#34;  # (translatable)
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>
</span></span><span style=display:flex><span># Nikola is multilingual!
</span></span><span style=display:flex><span>#
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -171,11 +171,13 @@ POSTS = (
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    (&#34;posts/*.rst&#34;, &#34;posts&#34;, &#34;post.tmpl&#34;),
</span></span><span style=display:flex><span>    (&#34;posts/*.txt&#34;, &#34;posts&#34;, &#34;post.tmpl&#34;),
</span></span><span style=display:flex><span>    (&#34;posts/*.html&#34;, &#34;posts&#34;, &#34;post.tmpl&#34;),
</span></span><span style=display:flex><span><span style=color:#a6e22e>+    (&#34;posts/*.md&#34;, &#34;posts&#34;, &#34;post.tmpl&#34;),
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>)
</span></span><span style=display:flex><span>PAGES = (
</span></span><span style=display:flex><span>    (&#34;stories/*.rst&#34;, &#34;stories&#34;, &#34;story.tmpl&#34;),
</span></span><span style=display:flex><span>    (&#34;stories/*.txt&#34;, &#34;stories&#34;, &#34;story.tmpl&#34;),
</span></span><span style=display:flex><span>    (&#34;stories/*.html&#34;, &#34;stories&#34;, &#34;story.tmpl&#34;),
</span></span><span style=display:flex><span><span style=color:#a6e22e>+    (&#34;stories/*.md&#34;, &#34;stories&#34;, &#34;story.tmpl&#34;),
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -546,11 +548,11 @@ REDIRECTIONS = []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span># https://getnikola.com/handbook.html#deploying-to-github
</span></span><span style=display:flex><span># For user.github.io OR organization.github.io pages, the DEPLOY branch
</span></span><span style=display:flex><span># MUST be &#39;master&#39;, and &#39;gh-pages&#39; for other repositories.
</span></span><span style=display:flex><span><span style=color:#f92672>-# GITHUB_SOURCE_BRANCH = &#39;master&#39;
</span></span></span><span style=display:flex><span><span style=color:#f92672>-# GITHUB_DEPLOY_BRANCH = &#39;gh-pages&#39;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+GITHUB_SOURCE_BRANCH = &#39;source&#39;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+GITHUB_DEPLOY_BRANCH = &#39;master&#39;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>
</span></span><span style=display:flex><span># The name of the remote where you wish to push to, using github_deploy.
</span></span><span style=display:flex><span><span style=color:#f92672>-# GITHUB_REMOTE_NAME = &#39;origin&#39;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+GITHUB_REMOTE_NAME = &#39;origin&#39;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>
</span></span><span style=display:flex><span># Whether or not github_deploy should commit to the source branch automatically
</span></span><span style=display:flex><span># before deploying.
</span></span><span style=display:flex><span><span style=color:#75715e>@@ -829,7 +831,7 @@ COMMENT_SYSTEM = &#34;disqus&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span># depends on what comment system you use. The default is
</span></span><span style=display:flex><span># &#34;nikolademo&#34; which is a test account for Disqus. More information
</span></span><span style=display:flex><span># is in the manual.
</span></span><span style=display:flex><span><span style=color:#f92672>-COMMENT_SYSTEM_ID = &#34;nikolademo&#34;
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+COMMENT_SYSTEM_ID = &#34;shelper&#34;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>
</span></span><span style=display:flex><span># Enable annotations using annotateit.org?
</span></span><span style=display:flex><span># If set to False, you can still enable them for individual posts and pages
</span></span></code></pre></div><ul><li>follow nikola handbook on how to use github pages <a href=https://getnikola.com/handbook.html#id44>deploy to github</a></li><li>setup emacs to edit your post and here is my functions:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lisp data-lang=lisp><span style=display:flex><span>(<span style=color:#66d9ef>setq</span> my-blog-repo <span style=color:#e6db74>&#34;~/develop/shelper.github.io&#34;</span>)
</span></span><span style=display:flex><span>(defun my-new-blog-post (title)
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;new blog post to shelper.github.io&#34;</span>
</span></span><span style=display:flex><span>(interactive <span style=color:#e6db74>&#34;sEnter post title: &#34;</span>)
</span></span><span style=display:flex><span>(cd my-blog-repo)
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>setq</span> new-post-cmd (concat <span style=color:#e6db74>&#34;nikola new_post -f markdown -t &#34;</span> <span style=color:#e6db74>&#34;\&#34;&#34;</span> title <span style=color:#e6db74>&#34;\&#34;&#34;</span>))
</span></span><span style=display:flex><span>(shell-command new-post-cmd)
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>setq</span> new-post-file (concat my-blog-repo 
</span></span><span style=display:flex><span>                          <span style=color:#e6db74>&#34;/posts/&#34;</span>
</span></span><span style=display:flex><span>                          (replace-regexp-in-string <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#e6db74>&#34;-&#34;</span> title)
</span></span><span style=display:flex><span>                          <span style=color:#e6db74>&#34;.md&#34;</span>))
</span></span><span style=display:flex><span>    (find-file new-post-file))
</span></span><span style=display:flex><span>(global-set-key (kbd <span style=color:#e6db74>&#34;C-c C-p&#34;</span>) <span style=color:#e6db74>&#39;my-new-blog-post</span>)
</span></span></code></pre></div><ul><li>realtime .md file html preview using <a href=https://github.com/mola-T/flymd>flymd</a>, I setup the flymd as below:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lisp data-lang=lisp><span style=display:flex><span><span style=color:#75715e>;;; realtime markdown rendering</span>
</span></span><span style=display:flex><span>(defun my-flymd-browser-function (url)
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>string-equal</span> system-type <span style=color:#e6db74>&#34;windows-nt&#34;</span>)
</span></span><span style=display:flex><span>      (<span style=color:#66d9ef>setq</span> url (concat <span style=color:#e6db74>&#34;file:/&#34;</span> url)))
</span></span><span style=display:flex><span>  (<span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>string-equal</span> system-type <span style=color:#e6db74>&#34;darwin&#34;</span>)
</span></span><span style=display:flex><span>      (<span style=color:#66d9ef>let</span> ((process-environment (browse-url-process-environment)))
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>apply</span> <span style=color:#e6db74>&#39;start-process</span>
</span></span><span style=display:flex><span>                (concat <span style=color:#e6db74>&#34;firefox &#34;</span> url)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;/usr/bin/open&#34;</span>
</span></span><span style=display:flex><span>                (<span style=color:#a6e22e>list</span> <span style=color:#e6db74>&#34;-a&#34;</span> <span style=color:#e6db74>&#34;firefox&#34;</span> url)))
</span></span><span style=display:flex><span>    (<span style=color:#66d9ef>let</span> ((browse-url-browser-function <span style=color:#e6db74>&#39;browse-url-firefox</span>))
</span></span><span style=display:flex><span>      (browse-url url))))
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>setq</span> flymd-browser-open-function <span style=color:#e6db74>&#39;my-flymd-browser-function</span>)
</span></span><span style=display:flex><span>(add-hook <span style=color:#e6db74>&#39;markdown-mode-hook</span> <span style=color:#e6db74>&#39;flymd-flyit</span>)
</span></span></code></pre></div><p>another thing that needs your attention is that you cannot indent code blocks, so code blocks have to start with no heading spaces or TABs</p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=http://example.org/>&copy; My New Hugo Site 2022</a><div><div class=ananke-socials></div></div></div></footer></body></html>